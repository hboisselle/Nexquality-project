{% extends "base.html" %}
{% block content %}
<h1>{{ project.name }}<br /></h1>
<h3>
{% if project.is_done %}
    Done
{% else %}
	On going
{% endif %}
</h3>
<table class="table">
	<thead>
	    <tr>
	        <th>Latest Commit</th>
	    </tr>
    </thead>
    <tr>
        <td>
            <a href="{% url 'Nexquality:project:commit:detail' project.id project.get_latest_commit.id %}">{{ project.get_latest_commit }}</a>
        </td>
    </tr> 
</table>
</div>
<table class="table">
	<thead>
		<tr>
			<th>Username</th>
			<th>Joining date</th>
			<th>Quitting date</th>
			<th>Role</th>
		</tr>
	<thead>
    {% for project_user in project.projectuser_set.all %}
	    <tr {% if project_user.out_date %} bgcolor="#eee" {% endif %}>
		    <td>{{ project_user.user.get_full_name }}</td>
		    <td>{{ project_user.in_date }}</td>
		    <td>{{ project_user.out_date }}</td>
		    <td>{{ project_user.role.name }}</td>
	    </tr>
    {% endfor %}
    </table>
    <a class="btn btn-default" href="{% url 'Nexquality:project:list' %}">Go back</a>
    <a class="btn btn-default" href="{% url 'Nexquality:project:commit:list' project.id %}">Commits</a>
{% if project.created_by = user %}
	<a class="btn btn-default" href="{% url 'Nexquality:project:update' project.id %}">Update</a>
	<a class="btn btn-default" onclick="ConfirmAndRedirect('{% url 'Nexquality:project:delete' project.id %}', 'Are you sure you want to delete this project?')"/>Delete</a>
{% endif %}
{% endblock %}